<h2>Add Scores</h2>
<p class="mb-3"><a href="../">&lt; back to {{event.Name}}</a></p>

{{#if earlyScore}}
<div class="alert alert-warning text-center">This event does not take place until {{date event.Start}} - are you sure
	you wish to add scores now?</div>
{{/if}}

<select class="form-control" id="bands">
	<option value="">-- Please Select --</option>
	{{#each event.EventRegistrations}}
	<option value="{{id}}" {{#eq id ../currentRegistration.id}}selected{{/eq}}>{{Organisation.Name}}</option>
	{{/each}}
</select>

{{#if currentRegistration}}
<hr />

<div class="row row-cols-1 row-cols-lg-2">
	{{#each event.EventCaptions}}
	<div class="col mb-3">
		<div class="card card-body">
			<p class="fs-4">{{Caption.Name}}</p>
			{{#if User}}
			<p class="fst-italic">Judged by {{User.FullName}}</p>
			{{/if}}

			<div class="row row-cols-2">
				{{#each Caption.Subcaptions}}
					<div class="col">
						<div class="card">
							<div class="card-header">{{Name}}</div>
							<div class="card-body">
								<input type="number" class="form-control" />
							</div>
						</div>
					</div>
				{{/each}}
			</div>
		</div>
	</div>
	{{/each}}
</div>
{{/if}}

<script>
	const ddl = document.getElementById("bands");
	ddl.addEventListener("change", () => {
		const val = ddl.value;
		if (val.trim().length === 0) {
			return;
		}

		window.location.href = `?current=${val}`;
	});
</script>