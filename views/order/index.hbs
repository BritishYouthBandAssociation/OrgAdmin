<h2>Orders</h2>

<div class="p-3 my-4 bg-default text-light rounded-3 text-center">
	<div class="container-fluid">
		<p class="mt-3 mb-3">Displaying all <b>{{orders.length}}</b> matching Orders on record</p>

		<div class="row p-3">
			<div class="col order-2 order-lg-1">
				<div class="form-group text-start">
					<label class="form-label" for="status">Status</label>
					<select id="status" class="form-control" onchange="location.href=`?status=${this.options[selectedIndex].value}`">
						<option value="all" {{#eq this.currentStatus "all"}} selected{{/eq}}>All</option>
						{{#each orderStatuses}}
						<option value="{{this}}" {{#eq ../currentStatus this}} selected{{/eq}}>{{uncamel this}}</option>
						{{/each}}
					</select>
				</div>
			</div>

		</div>
	</div>
</div>

<div class="row text-center">
	{{#each orders}}
	<div class="col-12 col-md-6 col-lg-4 mb-3">
		<div class="card card-body h-100 text-start">
			<div class="card-title">
				<p class="h5"><a class="text-reset text-decoration-none stretched-link" href="{{id}}/">ID: {{id}}</a></p>
			</div>
			<div class="card-text d-flex flex-column">
				<span>Order created: {{datetime Date}}</span>
				<span>Status: {{uncamel Status}}</span>
				<span>Total cost: &pound;{{Total}}</span>
<!--
				<span>Indivdual: User</span>
				<span>Organisation: Organisation (User)</span>
-->
				<span>Items: {{OrderItems.length}}
			</div>
		</div>
	</div>
	{{/each}}
</div>
